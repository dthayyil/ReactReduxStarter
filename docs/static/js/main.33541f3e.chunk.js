(this.webpackJsonpstarwasearch=this.webpackJsonpstarwasearch||[]).push([[0],{32:function(e,t,a){e.exports=a(46)},39:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),c=(a(37),a(38),a(39),a(12)),o=(a(40),a(10)),i=function(e){return n.createElement(n.Fragment,null,e.children,n.createElement(o.a,null))},u=a(16),m=a(17),d=a(19),E=a(20),p=a(8),h={login:function(e,t){return function(a,n){var r,l=n();l&&!1===(null===(r=l.login)||void 0===r?void 0:r.isAuthenticated)&&""!==e&&""!==t?(o.b.info("Please wait."),fetch("https://swapi.co/api/people/?search=".concat(e)).then((function(e){return e.json()})).then((function(n){for(var r=!1,l=0;l<n.results.length;++l){var s=n.results[l];if(s.name===e&&s.birth_year===t){r=!0;break}}r?a({type:"RECEIVE_LOGIN",data:{isAuthenticated:!0,user:{password:t,userName:e}}}):o.b.error("Username or Password invalid")})),a({type:"REQUEST_LOGIN",data:v})):o.b.error("Please enter Username or Password")}},logout:function(){return function(e){e({type:"REQUEST_LOGIN",data:v})}}},v={user:{userName:"",password:""},isAuthenticated:!1},f={isLoading:!0,results:[]},b={GetSearch:function(e){return function(t,a){a()&&""!==e&&fetch("https://swapi.co/api/planets?search=".concat(e)).then((function(e){return e.json()})).then((function(e){t({type:"RECEIVE_SEARCH",data:{isLoading:!1,results:e.results}})}))}}},g=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).Search=function(e){n.setState({searchText:e.target.value,searchCount:n.state.searchCount+1}),"Luke Skywalker"===n.props.login.user.userName||n.state.allowedCount>n.state.searchCount?n.props.GetSearch(e.target.value):o.b.error("Search Limit Exceed")},n.SelectPlanet=function(e){n.setState({seletedplanets:e})},n.state={searchText:"",seletedplanets:null,searchCount:0,allowedCount:15},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({searchCount:0})}),6e4)}},{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col"},n.createElement("div",{className:"search-box"},n.createElement("div",{className:"basic-search"},n.createElement("div",{className:"input-field"},n.createElement("input",{id:"search",type:"text",placeholder:"Type Keywords",value:this.state.searchText,onChange:function(t){return e.Search(t)}}))),n.createElement("div",{className:"row mt-3"},n.createElement("div",{className:"col"},n.createElement("div",{className:"list-type1"},n.createElement("ol",null,this.props.Search.results.map((function(t){var a=parseInt(t.population)/1e5,r=15;isNaN(a)||(a>=1e7?r=30:a>=1e6?r=25:a>=1e5?r=20:a>=1e4?r=18:a>=1e3?r=16:a>=100&&(r=15));var l={fontSize:"".concat(r,"px")};return n.createElement("li",{key:t.name,onClick:function(){return e.SelectPlanet(t)}},n.createElement("div",{style:l},t.name," "))}))))),n.createElement("div",{className:"col"},n.createElement("div",null,null!=this.state.seletedplanets?n.createElement("div",{className:"col-8"},n.createElement("table",{className:"table table-dark table-bordered"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("td",{colSpan:2}," ",n.createElement("h1",null," ",this.state.seletedplanets.name," ")))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,"Rotation Period"),n.createElement("td",null," ",this.state.seletedplanets.rotation_period," ")),n.createElement("tr",null,n.createElement("td",null,"Orbital Period"),n.createElement("td",null,this.state.seletedplanets.orbital_period)),n.createElement("tr",null,n.createElement("td",null,"Diameter"),n.createElement("td",null,this.state.seletedplanets.diameter)),n.createElement("tr",null,n.createElement("td",null,"Climate"),n.createElement("td",null,this.state.seletedplanets.climate)),n.createElement("tr",null,n.createElement("td",null,"Gravity"),n.createElement("td",null,this.state.seletedplanets.gravity)),n.createElement("tr",null,n.createElement("td",null,"Terrain"),n.createElement("td",null,this.state.seletedplanets.terrain)),n.createElement("tr",null,n.createElement("td",null,"Surface Water"),n.createElement("td",null,this.state.seletedplanets.surface_water)),n.createElement("tr",null,n.createElement("td",null,"Population"),n.createElement("td",null,this.state.seletedplanets.population))))):null))))))))}}]),a}(n.Component),w=Object(p.c)((function(e){return{login:e.login,Search:e.search}}),b)(g),N=function(e){Object(E.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).UsernameUpdate=function(e){n.setState({username:e.target.value})},n.PasswordUpdate=function(e){n.setState({password:e.target.value})},n.LogIn=function(){n.props.login(n.state.username,n.state.password)},n.LogOut=function(){n.props.logout()},n.state={password:"",username:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return n.createElement(n.Fragment,null,this.props.isAuthenticated?n.createElement("div",null,n.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.createElement("span",{className:"navbar-brand"},"Starwar Planets Search"),n.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.createElement("ul",{className:"navbar-nav ml-auto"},n.createElement("li",{className:"nav-item"},n.createElement("button",{className:"btn btn-outline-danger my-2 my-sm-0",onClick:this.LogOut},"Log out"))))),n.createElement(w,null)):n.createElement("div",{className:"wrapper fadeInDown"},n.createElement("div",{id:"formContent"},n.createElement("div",null,n.createElement("input",{type:"text",placeholder:"Username",className:"fadeIn second",value:this.state.username,onChange:function(t){return e.UsernameUpdate(t)}}),n.createElement("input",{type:"password",placeholder:"Password",className:"fadeIn third",value:this.state.password,onChange:function(t){return e.PasswordUpdate(t)}}),n.createElement("button",{type:"button",className:"fadeIn fourth submmit",onClick:this.LogIn},"Sign In")))))}}]),a}(n.Component),S=Object(p.c)((function(e){return e.login}),h)(N),y=function(){return r.a.createElement(i,null,r.a.createElement(c.a,{exact:!0,path:"/",component:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(31),C=a(11),_=a(30),I=a(27),j=a(18),k={login:function(e,t){if(void 0===e)return v;var a=t;switch(a.type){case"REQUEST_LOGIN":return{isAuthenticated:!1,user:{password:"",userName:""}};case"RECEIVE_LOGIN":return a.data;default:return e}},search:function(e,t){if(void 0===e)return f;var a=t;switch(a.type){case"REQUEST_SEARCH":return f;case"RECEIVE_SEARCH":return a.data;default:return e}}};var L=a(7),T=document.getElementsByTagName("base")[0].getAttribute("href"),U=Object(L.a)({basename:T}),R=function(e,t){var a=[_.a,Object(I.a)(e)],n=Object(C.c)(Object(O.a)({},k,{router:Object(j.b)(e)})),r=[],l="undefined"===typeof window?null:window;return l&&l.__REDUX_DEVTOOLS_EXTENSION__&&r.push(l.__REDUX_DEVTOOLS_EXTENSION__()),Object(C.e)(n,t,C.d.apply(void 0,[C.a.apply(void 0,a)].concat(r)))}(U);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:R},r.a.createElement(j.a,{history:U},r.a.createElement(y,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.33541f3e.chunk.js.map